import{W as Y,r as n,j as e,Y as _,a as o}from"./app-BkZrW4gF.js";import{A as H}from"./AuthenticatedLayout-DUxIfxvE.js";import{F as x}from"./index.es-DAPUE2Gh.js";import{M as B}from"./Modal-DJNcAVw3.js";import{P as E}from"./PrimaryButton-BWw9qE6I.js";import"./ApplicationLogo-BbVNdjiT.js";import"./Dropdown-CxlLIPEv.js";import"./transition-DZIVH9F_.js";import"./FlashMessage-DLJu0wG8.js";function Z({auth:f,aturan:s,can:a,penyakit:m}){const{data:G,setData:K,get:h,post:W,delete:y,processing:j,errors:O,reset:z}=Y({}),{crud:l}=a,N=()=>!!(l.add&&l.edit&&l.delete&&l.show),[w,v]=n.useState(""),k=t=>{h(route("Aturan.index",{search:t}),{preserveState:!0})},A=t=>{v(t.target.value),k(t.target.value)},[D,S]=n.useState({topik:"",kategori:"",penyakit:""}),M=t=>{const{name:r,value:d}=t.target;h(route("Aturan.index",{[r]:d}),{preserveState:!0}),S(P=>({...P,[r]:d}))},u=s.data,[C,p]=n.useState(!1),[i,b]=n.useState(null),T=t=>{p(!0),b(t)},c=()=>{p(!1),b(null)},F=t=>{y(route("Aturan.destroy",{slug:t}),{onSuccess:()=>{c()},onError:r=>{console.log(r)}})},I=[{nilai:1,txt:"Sangat Yakin"},{nilai:.8,txt:"Yakin"},{nilai:.6,txt:"Cukup Yakin"},{nilai:.4,txt:"Kurang Yakin"},{nilai:.2,txt:"Tidak Tahu"},{nilai:0,txt:"Tidak"}],g=t=>{const r=I.filter(d=>d.nilai==t);return console.log(r),r[0].txt};return e.jsxs(H,{user:f.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Daftar Aturan"}),children:[e.jsx(_,{title:"Daftar Aturan"}),e.jsx(B,{show:C,onClose:c,maxWidth:"md",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-white w-full rounded-lg p-4 fixed inset-x-0 bottom-0 z-50 md:relative shadow-lg",children:[e.jsxs("div",{className:"md:flex items-center",children:[e.jsx("div",{className:"rounded-full border border-gray-300 flex items-center justify-center w-16 h-16 flex-shrink-0 mx-auto",children:e.jsx("i",{className:"bx bx-error text-3xl",children:"âš "})}),e.jsxs("div",{className:"mt-4 md:mt-0 md:ml-6 text-center md:text-left",children:[e.jsx("p",{className:"font-bold",children:"Warning!"}),e.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:["Apakah Anda yakin ingin menghapus item dengan ID: ",i?i.judul:"","?"]})]})]}),e.jsxs("div",{className:"text-center md:text-right mt-4 md:flex md:justify-end",children:[e.jsx("button",{onClick:()=>F(i.id),id:"confirm-delete-btn",className:"block w-full md:inline-block md:w-auto px-4 py-3 md:py-2 bg-red-200 text-red-700 rounded-lg font-semibold text-sm md:ml-2 md:order-2",children:"Hapus"}),e.jsx("button",{onClick:c,id:"confirm-cancel-btn",className:"block w-full md:inline-block md:w-auto px-4 py-3 md:py-2 bg-gray-200 rounded-lg font-semibold text-sm mt-4 md:mt-0 md:order-1",children:"Batal"})]})]})})}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-3",children:e.jsxs("div",{className:"bg-white shadow-md sm:rounded-lg p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:a.add&&e.jsx(o,{href:route("Aturan.create"),children:e.jsx(E,{type:"button",className:"mt-2 sm:mt-0 p-2 bg-green-500 text-white rounded-lg hover:bg-primary transition duration-200",children:"Tambah Data"})})}),e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:e.jsxs("ul",{className:"inline-flex space-x-3",children:[e.jsx("input",{type:"search",placeholder:"Cari aturan...",value:w,onChange:A,className:"p-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-200"}),m.length>0&&e.jsx("li",{className:"px-2 border-x border-gray-300",children:e.jsxs("select",{id:"filter_penyakit",value:D.penyakit,onChange:M,name:"penyakit",className:"block appearance-none w-full bg-white border border-gray-300 rounded-lg shadow-sm py-2 pl-3 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Pilih Penyakit----"}),m.map((t,r)=>e.jsx("option",{value:t.nama,children:t.nama},t.id))]})})]})}),e.jsx("div",{className:"mt-6 overflow-x-auto rounded-t-md",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-green-500",children:[e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"No."}),e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"Penyakit"}),e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"Gejala"}),e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"MB (Hipotesa Kepastian terhadap Suatu Gejala)"}),e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"MD (Hipotesa Ketidakpastian terhadap Suatu Gejala)"}),N&&e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"Aksi"})]})}),e.jsx("tbody",{className:j?"opacity-50":"",children:u.length>0?u.map((t,r)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200",children:[e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:(s.current_page-1)*s.per_page+r+1}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:t.penyakit.nama}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:t.gejala.nama}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:g(t.mb)}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:g(t.md)}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:e.jsxs("div",{className:"flex space-x-2",children:[a.show&&e.jsx(o,{href:route("Aturan.show",{slug:t.id}),className:"bg-green-500 text-white p-1 rounded-md hover:underline",children:e.jsx(x,{icon:"fa-solid fa-eye"})}),a.edit&&e.jsx(o,{href:route("Aturan.edit",{slug:t.id}),className:"bg-green-500 text-white p-1 rounded-md hover:underline",children:e.jsx(x,{icon:"fa-solid fa-user"})}),a.delete&&e.jsx("button",{type:"button",onClick:()=>T(t),className:"bg-red-500 text-white p-1 rounded-md hover:underline",children:e.jsx(x,{icon:"fa-solid fa-trash-can"})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"py-3 px-4 text-center text-sm text-gray -500",children:"Tidak ada data yang ditemukan."})})})]})}),e.jsx("div",{className:"mt-4 flex justify-center",children:s.links.map((t,r)=>e.jsx(o,{href:t.url,className:`px-3 py-2 ${t.active?"bg-green-500 text-white":"bg-gray-200"} rounded-lg mx-1`,dangerouslySetInnerHTML:{__html:t.label}},r))})]})})})]})}export{Z as default};

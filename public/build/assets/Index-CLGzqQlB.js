import{W as D,r as a,j as e,Y as k,a as m}from"./app-BZIgDxJS.js";import{A as S}from"./AuthenticatedLayout-DJ299cwn.js";import{F as x}from"./index.es-Bl42128f.js";import{M as A}from"./Modal-DK8tEt3k.js";import"./ApplicationLogo-ZoIIxHLE.js";import"./Dropdown-BKXsIELp.js";import"./transition-BeIXUvTi.js";import"./FlashMessage-DmlsApmu.js";function P({auth:h,diagnosa:r,can:o}){const{data:M,setData:C,get:g,post:I,delete:p,processing:b,errors:_,reset:T}=D({}),[u,f]=a.useState(""),y=t=>{g(route("Diagnosa.index",{search:t}),{preserveState:!0})},j=t=>{f(t.target.value),y(t.target.value)};a.useState({topik:"",kategori:"",status:""});const n=r.data,[N,i]=a.useState(!1),[d,c]=a.useState(null),w=t=>{i(!0),c(t)},l=()=>{i(!1),c(null)},v=t=>{p(route("Diagnosa.destroy",{slug:t}),{onSuccess:()=>{l()},onError:s=>{console.log(s)}})};return e.jsxs(S,{user:h.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Daftar Diagnosa"}),children:[e.jsx(k,{title:"Daftar Diagnosa"}),e.jsx(A,{show:N,onClose:l,maxWidth:"md",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-white w-full rounded-lg p-4 fixed inset-x-0 bottom-0 z-50 md:relative shadow-lg",children:[e.jsxs("div",{className:"md:flex items-center",children:[e.jsx("div",{className:"rounded-full border border-gray-300 flex items-center justify-center w-16 h-16 flex-shrink-0 mx-auto",children:e.jsx("i",{className:"bx bx-error text-3xl",children:"âš "})}),e.jsxs("div",{className:"mt-4 md:mt-0 md:ml-6 text-center md:text-left",children:[e.jsx("p",{className:"font-bold",children:"Warning!"}),e.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:["Apakah Anda yakin ingin menghapus item dengan ID: ",d?d.judul:"","?"]})]})]}),e.jsxs("div",{className:"text-center md:text-right mt-4 md:flex md:justify-end",children:[e.jsx("button",{onClick:()=>v(d.id),id:"confirm-delete-btn",className:"block w-full md:inline-block md:w-auto px-4 py-3 md:py-2 bg-red-200 text-red-700 rounded-lg font-semibold text-sm md:ml-2 md:order-2",children:"Hapus"}),e.jsx("button",{onClick:l,id:"confirm-cancel-btn",className:"block w-full md:inline-block md:w-auto px-4 py-3 md:py-2 bg-gray-200 rounded-lg font-semibold text-sm mt-4 md:mt-0 md:order-1",children:"Batal"})]})]})})}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-3",children:e.jsxs("div",{className:"bg-white shadow-md sm:rounded-lg p-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:e.jsx("input",{type:"search",placeholder:"Cari diagnosa...",value:u,onChange:j,className:"p-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-200"})}),e.jsx("div",{className:"mt-6 overflow-x-auto rounded-t-md",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-green-500",children:[e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"No."}),e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"Nama Pengguna"}),e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"Nomor Telepon"}),e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"Alamat"}),e.jsx("th",{className:"py-3 px-4 border-b border-gray-200 text-left text-sm font-semibold text-white border",children:"Aksi"})]})}),e.jsx("tbody",{className:b?"opacity-50":"",children:n.length>0?n.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200",children:[e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:(r.current_page-1)*r.per_page+s+1}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:t.nama}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:t.no_telpon}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:t.alamat}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:e.jsxs("div",{className:"flex space-x-2",children:[o.show&&e.jsxs(m,{href:route("Diagnosa.show",{slug:t.id}),className:"bg-green-500 text-white p-1 rounded-md hover:underline",children:[e.jsx(x,{icon:"fa-solid fa-eye"})," ","Hasil Diagnosa"]}),o.delete&&e.jsx("button",{type:"button",onClick:()=>w(t),className:"bg-red-500 text-white p-1 rounded-md hover:underline",children:e.jsx(x,{icon:"fa-solid fa-trash-can"})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"py-3 px-4 text-center text-sm text-gray -500",children:"Tidak ada data yang ditemukan."})})})]})}),e.jsx("div",{className:"mt-4 flex justify-center",children:r.links.map((t,s)=>e.jsx(m,{href:t.url,className:`px-3 py-2 ${t.active?"bg-green-500 text-white":"bg-gray-200"} rounded-lg mx-1`,dangerouslySetInnerHTML:{__html:t.label}},s))})]})})})]})}export{P as default};

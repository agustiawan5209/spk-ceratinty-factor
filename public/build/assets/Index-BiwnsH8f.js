import{r as l,W as T,j as e,Y as _,a as u}from"./app-BkZrW4gF.js";import{A as z}from"./AuthenticatedLayout-DUxIfxvE.js";import{F as b}from"./index.es-DAPUE2Gh.js";import{M as f}from"./Modal-DJNcAVw3.js";import B from"./Form-vnZSEChG.js";import{P as R}from"./PrimaryButton-BWw9qE6I.js";import"./ApplicationLogo-BbVNdjiT.js";import"./Dropdown-CxlLIPEv.js";import"./transition-DZIVH9F_.js";import"./FlashMessage-DLJu0wG8.js";import"./InputError-CqWfP_09.js";import"./InputLabel-CmzWNdGz.js";import"./TextInput-LrVl7ysV.js";import"./index-DAdwL6rk.js";/* empty css                   */import"./LoadingPage-CBQULxeB.js";function ie({auth:m,pengobatan:n,penyakit:y,can:s}){const{crud:d}=s,j=()=>!!(d.add&&d.edit&&d.delete&&d.show),[N,v]=l.useState(""),{data:W,setData:H,get:w,post:$,delete:k,processing:M,errors:K,reset:Y}=T({}),P=t=>{w(route("Pengobatan.index",{search:t}),{preserveState:!0})},D=t=>{v(t.target.value),P(t.target.value)},x=n.data;function C(t){return new DOMParser().parseFromString(t,"text/html").body.textContent||""}const[S,h]=l.useState(!1),[o,g]=l.useState(null),A=t=>{h(!0),g(t)},i=()=>{h(!1),g(null)},E=t=>{k(route("Pengobatan.destroy",{slug:t}),{onSuccess:()=>{i()},onError:a=>{console.log(a)}})},[F,r]=l.useState(!1),[p,c]=l.useState(null),I=()=>{c(null),r(!0)},L=t=>{c(t),r(!0)},O=()=>{c(null),r(!1)};return e.jsxs(z,{user:m.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Daftar Pengobatan"}),children:[e.jsx(f,{show:S,onClose:i,maxWidth:"md",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-white w-full rounded-lg p-4 fixed inset-x-0 bottom-0 z-50 md:relative shadow-lg",children:[e.jsxs("div",{className:"md:flex items-center",children:[e.jsx("div",{className:"rounded-full border border-gray-300 flex items-center justify-center w-16 h-16 flex-shrink-0 mx-auto",children:e.jsx("i",{className:"bx bx-error text-3xl",children:"âš "})}),e.jsxs("div",{className:"mt-4 md:mt-0 md:ml-6 text-center md:text-left",children:[e.jsx("p",{className:"font-bold",children:"Warning!"}),e.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:["Apakah Anda yakin ingin menghapus item dengan ID: ",o?o.nama:"","?"]})]})]}),e.jsxs("div",{className:"text-center md:text-right mt-4 md:flex md:justify-end",children:[e.jsx("button",{onClick:()=>E(o.id),id:"confirm-delete-btn",className:"block w-full md:inline-block md:w-auto px-4 py-3 md:py-2 bg-red-200 text-red-700 rounded-lg font-semibold text-sm md:ml-2 md:order-2",children:"Hapus"}),e.jsx("button",{onClick:i,id:"confirm-cancel-btn",className:"block w-full md:inline-block md:w-auto px-4 py-3 md:py-2 bg-gray-200 rounded-lg font-semibold text-sm mt-4 md:mt-0 md:order-1",children:"Batal"})]})]})})}),e.jsx(f,{show:F,onClose:()=>r(!1),children:e.jsxs("div",{className:"p-2 block",children:[e.jsxs("div",{className:"flex justify-center items-center pb-4 mb-4 rounded-t sm:mb-5",children:[e.jsx("h3",{className:"text-lg text-center md:text-2xl font-semibold text-gray-900 ",children:p==null?"Tambah Data":"Edit Data"}),e.jsxs("button",{type:"button",onClick:O,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-toggle":"updateProductModal",children:[e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx(B,{auth:m,pengobatan:p,setModalOpen:r,penyakit:y})]})}),e.jsx(_,{title:"DaftarPengobatan"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white shadow-md sm:rounded-lg p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:[e.jsx("input",{type:"search",placeholder:"Cari pengobatan...",value:N,onChange:D,className:"p-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-200"}),s.add&&e.jsx(R,{type:"button",onClick:I,className:"mt-2 sm:mt-0 p-2 bg-green-500 text-white rounded-lg hover:bg-primary transition duration-200",children:"Tambah Data"})]}),e.jsx("div",{className:"mt-6 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-green-600 text-white",children:[e.jsx("th",{className:"py-3 px-4 border border-gray-200 text-left text-sm font-semibold",children:"No."}),e.jsx("th",{className:"py-3 px-4 border border-gray-200 text-left text-sm font-semibold",children:"Nama Penyakit"}),e.jsx("th",{className:"py-3 px-4 border border-gray-200 text-left text-sm font-semibold",children:"Keterangan Cara Pengobatan"}),j&&e.jsx("th",{className:"py-3 px-4 border border-gray-200 text-left text-sm font-semibold",children:"Aksi"})]})}),e.jsx("tbody",{className:M?"opacity-50":"",children:x.length>0?x.map((t,a)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200",children:[e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:(n.current_page-1)*n.per_page+a+1}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:t.penyakit.nama}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:C(t.keterangan)}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:e.jsxs("div",{className:"flex space-x-2",children:[s.show&&e.jsx(u,{href:`/pengobatan/${t.id}`,className:"text-green-500 hover:underline",children:"Detail"}),s.edit&&e.jsx("button",{onClick:()=>L(t),className:"bg-green-500 text-white p-1 rounded-md hover:underline",children:e.jsx(b,{icon:"fa-solid fa-user"})}),s.delete&&e.jsx("button",{type:"button",onClick:()=>A(t),className:"bg-red-500 text-white p-1 rounded-md hover:underline",children:e.jsx(b,{icon:"fa-solid fa-trash-can"})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"py-3 px-4 text-center text-sm text-gray -500",children:"Tidak ada data yang ditemukan."})})})]})}),e.jsx("div",{className:"mt-4 flex justify-center",children:n.links.map((t,a)=>e.jsx(u,{href:t.url,className:`px-3 py-2 ${t.active?"bg-green-500 text-white":"bg-gray-200"} rounded-lg mx-1`,dangerouslySetInnerHTML:{__html:t.label}},a))})]})})})]})}export{ie as default};

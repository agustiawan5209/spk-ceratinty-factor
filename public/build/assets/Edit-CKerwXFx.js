import{W as w,r as o,j as e,Y as P,a as C}from"./app-2sNHJ8Ox.js";import{A as R}from"./AuthenticatedLayout-BbFoAMe0.js";import{I as m}from"./InputError-BDZqqWua.js";import{I as i}from"./InputLabel-BGgA0KmN.js";import{P as D}from"./PrimaryButton-CxIqgUh7.js";import{T as d}from"./TextInput-B7Gxnkk0.js";import{R as h}from"./index-Bs34l74j.js";/* empty css                   */import{L as F}from"./LoadingPage-u9VTai93.js";import"./ApplicationLogo-D6sc7JST.js";import"./Dropdown-iphSW84o.js";import"./transition-DLq1fi5R.js";import"./index.es-AgM8DT58.js";import"./FlashMessage-CsOgsnxT.js";function Q({auth:x,penyakit:s}){const g=[...s.galeri].map(a=>a.image_path),{data:t,setData:n,post:u,processing:p,errors:r}=w({id:s.id,slug:s.id,kode:s.kode,keterangan:s.keterangan,pencegahan:s.pencegahan,nama:s.nama,images:g}),f=o.useRef(null),j=o.useRef(null),v=a=>{const l=Array.from(a.target.files);n("images",[...t.images,...l])},N=a=>{n("images",t.images.filter((l,y)=>y!==a))},[b,c]=o.useState(!1),k=a=>{a.preventDefault(),u(route("Penyakit.update"),{onBefore:()=>{c(!0)},onFinish:()=>{c(!1)},onError:l=>console.log(l)})};return e.jsxs(R,{user:x.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Ubah Potensi Daerah"}),children:[e.jsx(P,{title:"Ubah Potensi Daerah"}),b&&e.jsx(F,{}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white relative shadow-sm sm:rounded-lg",children:[e.jsx("div",{className:"max-w-xs w-32 relative -top-5 left-3 shadow-lg shadow-gray-500 bg-green-600",children:e.jsx(C,{href:route("Penyakit.index"),children:e.jsx("div",{className:"w-full p-2 md:p-4 text-base text-white",children:"Kembali"})})}),e.jsxs("div",{className:"p-2 md:p-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Ubah Potensi Daerah"}),e.jsxs("form",{onSubmit:k,className:"grid grid-cols-1 md:grid-cols-2 gap-6",encType:"multipart/form-data",children:[e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx(i,{htmlFor:"gambar",value:"Gambar Potensi Daerah"}),e.jsx("input",{type:"file",multiple:!0,id:"gambar",onChange:v,className:"block w-full mt-1"}),e.jsx(m,{message:r.gambar,className:"mt-2"}),e.jsx("div",{className:"flex gap-4 mt-4",children:t.images.map((a,l)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:typeof a=="string"?a:URL.createObjectURL(a),alt:"Gambar",className:"w-24 h-24 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>N(l),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:"âœ•"})]},l))})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Keterangan: Anda Dapat Menyimpan Lebih Dari Satu Gambar"}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(i,{htmlFor:"tgl",value:"kode Penyakit"}),e.jsx(d,{id:"kode",type:"text",name:"kode",value:t.kode,className:"mt-1 block w-full",autoComplete:"kode",isFocused:!1,placeholder:"00----",onChange:a=>n("kode",a.target.value)}),e.jsx(m,{message:r.kode,className:"mt-2"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(i,{htmlFor:"nama",value:"nama Penyakit"}),e.jsx(d,{id:"nama",type:"text",name:"nama",value:t.nama,className:"mt-1 block w-full",placeholder:"nama Penyakit",autoComplete:"nama",isFocused:!1,onChange:a=>n("nama",a.target.value)}),e.jsx(m,{message:r.nama,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4 col-span-full",children:[e.jsx(i,{htmlFor:"keterangan",value:"Keterangan"}),e.jsx("div",{className:"w-full",children:e.jsx(h,{ref:f,theme:"snow",value:t.keterangan,onChange:a=>n("keterangan",a),className:"mt-1"})}),e.jsx(m,{message:r.keterangan,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4 col-span-full",children:[e.jsx(i,{htmlFor:"pencegahan",value:"Keterangan Cara Pencegahan Penyakit"}),e.jsx("p",{className:"text-xs text-gray-500",children:"catatan: Berikan detail cara Pencegahan terkait penyakit ini."}),e.jsx("div",{className:"w-full",children:e.jsx(h,{ref:j,theme:"snow",value:t.pencegahan,onChange:a=>n("pencegahan",a),className:"mt-1"})}),e.jsx(m,{message:r.pencegahan,className:"mt-2"})]}),e.jsx("div",{className:"col-span-full flex justify-center mt-6",children:e.jsx(D,{disabled:p,children:"Simpan"})})]})]})]})})})]})}export{Q as default};

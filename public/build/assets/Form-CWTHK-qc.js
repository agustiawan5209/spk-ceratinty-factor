import{W as v,r as i,j as e}from"./app-BZIgDxJS.js";import"./Dropdown-BKXsIELp.js";import"./index.es-Bl42128f.js";import{I as d}from"./InputError-Ce5PPng_.js";import{I as u}from"./InputLabel-BMb1i3YM.js";import{P as y}from"./PrimaryButton-Bfu7KRSP.js";import"./TextInput-DyBxTzRW.js";import{R as b}from"./index-Bn70xOj2.js";/* empty css                   */import{L as N}from"./LoadingPage-DKFE5v6V.js";import"./transition-BeIXUvTi.js";function K({auth:P,pengobatan:s,penyakit:p,setModalOpen:o}){const{data:l,setData:r,post:g,put:x,processing:f,errors:m}=v({slug:"",penyakit_id:"",keterangan:""}),h=i.useRef(null);i.useEffect(()=>{s&&r({slug:s.id,penyakit_id:s.penyakit_id,keterangan:s.keterangan})},[s]);const[j,c]=i.useState(!1),k=a=>{a.preventDefault(),s?x(route("Pengobatan.update"),{preserveState:!0,onBefore:()=>{c(!0)},onFinish:()=>{c(!1)},onSuccess:()=>{o(!1)},onError:n=>{const t=Object.values(n).join(`
`);console.log(t)}}):g(route("Pengobatan.store"),{preserveState:!0,onSuccess:()=>{o(!1)},onError:n=>{const t=Object.values(n).join(`
`);console.log(t)}})};return e.jsxs("div",{className:"py-12",children:[j&&e.jsx(N,{}),e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:k,className:"p-4 max-w-xl",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{htmlFor:"penyakit_id",value:"Pilih Data Penyakit"}),e.jsxs("select",{id:"penyakit",name:"topik",value:l.penyakit_id,onChange:a=>r("penyakit_id",a.target.value),className:"block appearance-none w-full bg-white border border-gray-300 rounded-lg shadow-sm py-2 pl-3 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Pilih Data Penyakit-------"}),p.map(a=>e.jsxs("option",{value:a.id,children:[a.kode,"|| ",a.nama]},a.id))]}),e.jsx(d,{message:m.penyakit_id,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{htmlFor:"nama",value:"Keterangan Pengobatan"}),e.jsxs("div",{children:[e.jsx(b,{ref:h,theme:"snow",value:l.keterangan,onChange:a=>r("keterangan",a),className:"mt-1"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Keterangan: Jelaskan Secara Rinci Mengenai Cara Pengobatan Untuk Penyakit Yang Ada"})]}),e.jsx(d,{message:m.keterangan,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx(y,{className:"ms-4",disabled:f,children:"Simpan"})})]})})})]})}export{K as default};

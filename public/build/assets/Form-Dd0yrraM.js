import{W as P,r as c,j as a,Y as F,a as C}from"./app-2sNHJ8Ox.js";import{A as R}from"./AuthenticatedLayout-BbFoAMe0.js";import{I as r}from"./InputError-BDZqqWua.js";import{I as m}from"./InputLabel-BGgA0KmN.js";import{P as I}from"./PrimaryButton-CxIqgUh7.js";import{T as x}from"./TextInput-B7Gxnkk0.js";import{R as d}from"./index-Bs34l74j.js";/* empty css                   */import{L as D}from"./LoadingPage-u9VTai93.js";import"./ApplicationLogo-D6sc7JST.js";import"./Dropdown-iphSW84o.js";import"./transition-DLq1fi5R.js";import"./index.es-AgM8DT58.js";import"./FlashMessage-CsOgsnxT.js";function Q({auth:p}){const{data:t,setData:n,post:h,processing:u,errors:l}=P({kode:"",nama:"",keterangan:"",keterangan_pengobatan:"",pencegahan:"",images:[]}),f=c.useRef(null),j=c.useRef(null),b=c.useRef(null),N=e=>{const s=Array.from(e.target.files);n("images",[...t.images,...s])},k=e=>{const s=t.images.filter((i,o)=>o!==e);n("images",s)},[v,g]=c.useState(!1),y=e=>{e.preventDefault();const s=new FormData;Object.entries(t).forEach(([i,o])=>{Array.isArray(o)?o.forEach(w=>s.append(i,w)):s.append(i,o)}),h(route("Penyakit.store"),{data:s,onBefore:()=>{g(!0)},onFinish:()=>{g(!1)},onError:i=>{console.log(i)}})};return a.jsxs(R,{user:p.user,header:a.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Form Penyakit"}),children:[a.jsx(F,{title:"Form Penyakit"}),v&&a.jsx(D,{}),a.jsx("div",{className:"py-12",children:a.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white relative shadow-sm sm:rounded-lg",children:[a.jsx("div",{className:"max-w-xs w-32 relative -top-5 left-3 shadow-lg shadow-gray-500 bg-green-600",children:a.jsx(C,{href:route("Penyakit.index"),children:a.jsx("div",{className:"w-full p-2 md:p-4 text-base text-white",children:"Kembali"})})}),a.jsxs("div",{className:"p-2 md:p-4",children:[a.jsx("h1",{className:"md:text-2xl font-bold mb-1 md:mb-4",children:"Tambah Data Penyakit"}),a.jsxs("form",{onSubmit:y,className:"grid grid-cols-2 md:grid-cols-4 gap-4",encType:"multipart/form-data",children:[a.jsxs("div",{className:"col-span-full mt-6",children:[a.jsx(m,{htmlFor:"gambar",value:"Gambar Penyakit Dari Hewan"}),a.jsx("input",{type:"file",multiple:!0,id:"gambar",onChange:N,className:"block w-full mt-1"}),a.jsx(r,{message:l.gambar,className:"mt-2"}),a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"flex gap-4 p-3 mt-4 w-max bg-green-200",children:t.images.map((e,s)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:typeof e=="string"?e:URL.createObjectURL(e),alt:"Gambar",className:"w-24 h-24 object-cover rounded"}),a.jsx("button",{type:"button",onClick:()=>k(s),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:"âœ•"})]},s))})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Keterangan: Anda Dapat Menyimpan Lebih Dari Satu Gambar"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(m,{htmlFor:"tgl",value:"kode Penyakit"}),a.jsx(x,{id:"kode",type:"text",name:"kode",value:t.kode,className:"mt-1 block w-full",autoComplete:"kode",isFocused:!1,placeholder:"00----",onChange:e=>n("kode",e.target.value)}),a.jsx(r,{message:l.kode,className:"mt-2"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(m,{htmlFor:"nama",value:"nama Penyakit"}),a.jsx(x,{id:"nama",type:"text",name:"nama",value:t.nama,className:"mt-1 block w-full",placeholder:"nama Penyakit",autoComplete:"nama",isFocused:!1,onChange:e=>n("nama",e.target.value)}),a.jsx(r,{message:l.nama,className:"mt-2"})]}),a.jsxs("div",{className:"mb-4 col-span-full",children:[a.jsx(m,{htmlFor:"keterangan",value:"Keterangan "}),a.jsx("div",{className:"w-full",children:a.jsx(d,{ref:f,theme:"snow",value:t.keterangan,onChange:e=>n("keterangan",e),className:"mt-1"})}),a.jsx(r,{message:l.keterangan,className:"mt-2"})]}),a.jsxs("div",{className:"mb-4 col-span-full",children:[a.jsx(m,{htmlFor:"pencegahan",value:"Keterangan Cara Pencegahan Penyakit"}),a.jsx("p",{className:"text-xs text-gray-500",children:"catatan: Berikan detail cara Pencegahan terkait penyakit ini."}),a.jsx("div",{className:"w-full",children:a.jsx(d,{ref:b,theme:"snow",value:t.pencegahan,onChange:e=>n("pencegahan",e),className:"mt-1"})}),a.jsx(r,{message:l.pencegahan,className:"mt-2"})]}),a.jsx("br",{}),a.jsxs("div",{className:"mb-4 col-span-full",children:[a.jsx(m,{htmlFor:"keterangan_pengobatan",value:"Keterangan Cara Pengobatan"}),a.jsx("p",{className:"text-xs text-gray-500",children:"catatan: Berikan detail cara pengobatan terkait penyakit ini. anda dapat menambah cara pengobatan juga di menu pengobatan"}),a.jsx("div",{className:"w-full",children:a.jsx(d,{ref:j,theme:"snow",value:t.keterangan_pengobatan,onChange:e=>n("keterangan_pengobatan",e),className:"mt-1"})}),a.jsx(r,{message:l.keterangan_pengobatan,className:"mt-2"})]}),a.jsx("div",{className:" col-span-full flex items-center justify-center mt-10",children:a.jsx(I,{className:"ms-4",disabled:u,children:"Simpan"})})]})]})]})})})]})}export{Q as default};

import{W as D,r as o,j as e,Y as S,a as F}from"./app-BZIgDxJS.js";import{A as I}from"./AuthenticatedLayout-DJ299cwn.js";import{I as G}from"./InputError-Ce5PPng_.js";import{I as M}from"./InputLabel-BMb1i3YM.js";import{P as g}from"./PrimaryButton-Bfu7KRSP.js";import{T as K}from"./TextInput-DyBxTzRW.js";/* empty css                   */import{L}from"./LoadingPage-DKFE5v6V.js";import{M as T}from"./Modal-DK8tEt3k.js";import Y from"./Petunjuk-DX9vRm9u.js";import{F as _}from"./index.es-Bl42128f.js";import"./ApplicationLogo-ZoIIxHLE.js";import"./Dropdown-BKXsIELp.js";import"./transition-BeIXUvTi.js";import"./FlashMessage-DmlsApmu.js";function ee({auth:h,gejala:d,penyakit:j}){const{data:c,setData:b,post:f,processing:y,errors:N}=D({penyakit_id:"",aturan:[]}),[k,m]=o.useState(!1),[l,i]=o.useState([]),v=(a,t)=>{const{value:s,checked:n}=a.target;i(n?r=>[...r,{id:s,nama:t.nama,mb:.1,md:.1,cf:0,keterangan:""}]:r=>r.filter(C=>C.id!==s)),console.log(l)},x=(a,t,s)=>{const n=l.map(r=>r.id===a?{...r,[t]:parseFloat(s.target.value)}:r);i(n),console.log(n)},w=(a,t,s)=>{const n=l.map(r=>r.id===a?{...r,[t]:s.target.value}:r);i(n)},P=a=>{a.preventDefault(),c.aturan=l,f(route("Aturan.store"),{onBefore:()=>{m(!0)},onFinish:()=>{m(!1)},onError:t=>{console.log(t)}})},[A,p]=o.useState(!1),u=[{nilai:1,txt:"Sangat Yakin"},{nilai:.8,txt:"Yakin"},{nilai:.6,txt:"Cukup Yakin"},{nilai:.4,txt:"Kurang Yakin"},{nilai:.2,txt:"Tidak yakin"}];return e.jsxs(I,{user:h.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Form Aturan"}),children:[e.jsx(T,{show:A,maxWidth:"2xl",children:e.jsx("div",{className:"py-4 w-full h-screen overflow-y-auto block",children:e.jsxs("div",{className:" my-8 px-6",children:[e.jsxs("button",{type:"button",onClick:()=>p(!1),className:"ms-auto -mx-1.5 -my-1.5 bg-green-50 text-green-500 rounded-lg focus:ring-2 focus:ring-green-400 p-1.5 hover:bg-green-200 inline-flex items-center justify-center h-8 w-8 dark:bg-gray-800 dark:text-green-400 dark:hover:bg-gray-700","data-dismiss-target":"#alert-border-3","aria-label":"Close",children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),e.jsx(_,{className:"w-3 h-3",icon:"fa-solid fa-x"})]}),e.jsx(Y,{})]})})}),e.jsx(S,{title:"Form Aturan"}),k&&e.jsx(L,{}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white relative shadow-sm sm:rounded-lg",children:[e.jsxs("div",{className:"w-full flex flex-1 relative justify-end ",children:[e.jsx(F,{href:route("Aturan.index"),children:e.jsx("div",{className:"max-w-xs w-32 p-2 md:p-4 absolute text-base text-white -top-8 left-3 shadow-lg shadow-gray-500 bg-green-600",children:"Kembali"})}),e.jsx("div",{className:"font-semibold text-base md:text-2xl leading-4 p-1 md:p-6",children:e.jsxs(g,{type:"button",onClick:()=>p(!0),children:[" ","Petunjuk Penggunaan"," "]})})]}),e.jsxs("div",{className:"p-2 md:p-4",children:[e.jsx("h1",{className:"md:text-2xl font-bold mb-1 md:mb-4",children:"Tambah Data Aturan"}),e.jsxs("form",{onSubmit:P,className:"grid grid-cols-2 md:grid-cols-4 gap-4",encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-4 col-span-full",children:[e.jsx(M,{htmlFor:"penyakit_id",value:"Pilih Data Penyakit"}),e.jsxs("select",{id:"penyakit",name:"topik",value:c.penyakit_id,onChange:a=>b("penyakit_id",a.target.value),className:"block appearance-none w-full bg-white border border-gray-300 rounded-lg shadow-sm py-2 pl-3 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Pilih Data Penyakit-------"}),j.map(a=>e.jsxs("option",{value:a.id,children:[a.kode,"|| ",a.nama]},a.id))]}),e.jsx(G,{message:N.penyakit_id,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4 col-span-full",children:[e.jsx("h2",{className:"font-semibold text-2xl",children:"List Data Gejala"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"catatan: centang gejala yang ada pada penyakit yang telah dipilih"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-0",children:d.length>0&&d.map((a,t)=>e.jsx("div",{className:"border",children:e.jsxs("div",{className:"flex items-center gap-2 p-2",children:[e.jsx("input",{id:"checkbox-gejala-"+t,type:"checkbox",value:a.id,onChange:s=>v(s,a),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 "}),e.jsxs("label",{htmlFor:"checkbox-gejala-"+t,className:"text-base",children:[t+1,". ",a.nama]})]})},t))})]}),e.jsx("div",{className:"col-span-full",children:e.jsxs("table",{className:"table w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border text-sm p-1",children:"Gejala"}),e.jsx("th",{className:"border text-sm p-1",children:"MB (Hipotesa Kepastian terhadap Suatu Gejala)"}),e.jsx("th",{className:"border text-sm p-1",children:"MD (Hipotesa Ketidakpastian terhadap Suatu Gejala)"}),e.jsx("th",{className:"border text-sm p-1",children:"Keteragan"})]})}),e.jsx("tbody",{children:l.map((a,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:a.nama}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:e.jsxs("select",{id:"md",name:"md",value:a.mb,onChange:s=>x(a.id,"mb",s),className:"block appearance-none w-full bg-white border border-gray-300 rounded-lg shadow-sm py-2 pl-3 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Pilih Data Penyakit-------"}),u.map(s=>e.jsx("option",{value:s.nilai,children:s.txt},s.nilai))]})}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:e.jsxs("select",{id:"mb",name:"md",value:a.md,onChange:s=>x(a.id,"md",s),className:"block appearance-none w-full bg-white border border-gray-300 rounded-lg shadow-sm py-2 pl-3 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Pilih Data Penyakit-------"}),u.map(s=>e.jsx("option",{value:s.nilai,children:s.txt},s.nilai))]})}),e.jsx("td",{className:"py-3 px-4 border border-gray-200 text-sm text-gray-700",children:e.jsx(K,{type:"text",className:"w-full",value:a.keterangan,onChange:s=>w(a.id,"keterangan",s)})})]},t))})]})}),e.jsx("div",{className:" col-span-full flex items-center justify-center mt-10",children:e.jsx(g,{className:"ms-4",disabled:y,children:"Simpan"})})]})]})]})})})]})}export{ee as default};
